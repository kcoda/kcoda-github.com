(function(a){if(typeof define=="function"){define("riot/all/Es5",[],a)}else{if(typeof YUI=="function"){YUI.add("es5",a)}else{a()}}})(function(){function P(){}if(!Function.prototype.bind){Function.prototype.bind=function g(aa){var ab=this;if(typeof ab!="function"){throw new TypeError("Function.prototype.bind called on incompatible "+ab)}var e=D.call(arguments,1);var Z=function(){if(this instanceof Z){var ac=ab.apply(this,e.concat(D.call(arguments)));if(Object(ac)===ac){return ac}return this}else{return ab.apply(aa,e.concat(D.call(arguments)))}};if(ab.prototype){P.prototype=ab.prototype;Z.prototype=new P();P.prototype=null}return Z}}var b=Function.prototype.call;var C=Array.prototype;var v=Object.prototype;var D=C.slice;var E=b.bind(v.toString);var K=b.bind(v.hasOwnProperty);var Q;var Y;var O;var V;var m;if((m=K(v,"__defineGetter__"))){Q=b.bind(v.__defineGetter__);Y=b.bind(v.__defineSetter__);O=b.bind(v.__lookupGetter__);V=b.bind(v.__lookupSetter__)}if([1,2].splice(0).length!=2){var l=Array.prototype.splice;if(function(){function Z(ac){var ab=[];while(ac--){ab.unshift(ac)}return ab}var aa=[],e;aa.splice.bind(aa,0,0).apply(null,Z(20));aa.splice.bind(aa,0,0).apply(null,Z(26));e=aa.length;aa.splice(5,0,"XXX");if(e+1==aa.length){return true}}()){Array.prototype.splice=function(Z,e){if(!arguments.length){return[]}else{return l.apply(this,[Z===void 0?0:Z,e===void 0?(this.length-Z):e].concat(D.call(arguments,2)))}}}else{Array.prototype.splice=function(ac,aa){var e,Z=D.call(arguments,2),ab=Z.length;if(!arguments.length){return[]}if(ac===void 0){ac=0}if(aa===void 0){aa=this.length-ac}if(ab>0){if(aa<=0){if(ac==this.length){this.push.apply(this,Z);return[]}if(ac==0){this.unshift.apply(this,Z);return[]}}e=D.call(this,ac,ac+aa);Z.push.apply(Z,D.call(this,ac+aa,this.length));Z.unshift.apply(Z,D.call(this,0,ac));Z.unshift(0,this.length);l.apply(this,Z);return e}return l.call(this,ac,aa)}}}if([].unshift(0)!=1){var W=Array.prototype.unshift;Array.prototype.unshift=function(){W.apply(this,arguments);return this.length}}if(!Array.isArray){Array.isArray=function y(e){return E(e)=="[object Array]"}}var T=Object("a"),N=T[0]!="a"||!(0 in T);if(!Array.prototype.forEach){Array.prototype.forEach=function c(e){var aa=F(this),Z=N&&E(this)=="[object String]"?this.split(""):aa,ac=arguments[1],ab=-1,ad=Z.length>>>0;if(E(e)!="[object Function]"){throw new TypeError()}while(++ab<ad){if(ab in Z){e.call(ac,Z[ab],ab,aa)}}}}if(!Array.prototype.map){Array.prototype.map=function B(Z){var ab=F(this),aa=N&&E(this)=="[object String]"?this.split(""):ab,ae=aa.length>>>0,e=Array(ae),ad=arguments[1];if(E(Z)!="[object Function]"){throw new TypeError(Z+" is not a function")}for(var ac=0;ac<ae;ac++){if(ac in aa){e[ac]=Z.call(ad,aa[ac],ac,ab)}}return e}}if(!Array.prototype.filter){Array.prototype.filter=function I(Z){var ab=F(this),aa=N&&E(this)=="[object String]"?this.split(""):ab,ae=aa.length>>>0,e=[],af,ad=arguments[1];if(E(Z)!="[object Function]"){throw new TypeError(Z+" is not a function")}for(var ac=0;ac<ae;ac++){if(ac in aa){af=aa[ac];if(Z.call(ad,af,ac,ab)){e.push(af)}}}return e}}if(!Array.prototype.every){Array.prototype.every=function G(e){var aa=F(this),Z=N&&E(this)=="[object String]"?this.split(""):aa,ad=Z.length>>>0,ac=arguments[1];if(E(e)!="[object Function]"){throw new TypeError(e+" is not a function")}for(var ab=0;ab<ad;ab++){if(ab in Z&&!e.call(ac,Z[ab],ab,aa)){return false}}return true}}if(!Array.prototype.some){Array.prototype.some=function M(e){var aa=F(this),Z=N&&E(this)=="[object String]"?this.split(""):aa,ad=Z.length>>>0,ac=arguments[1];if(E(e)!="[object Function]"){throw new TypeError(e+" is not a function")}for(var ab=0;ab<ad;ab++){if(ab in Z&&e.call(ac,Z[ab],ab,aa)){return true}}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function n(Z){var ab=F(this),aa=N&&E(this)=="[object String]"?this.split(""):ab,ad=aa.length>>>0;if(E(Z)!="[object Function]"){throw new TypeError(Z+" is not a function")}if(!ad&&arguments.length==1){throw new TypeError("reduce of empty array with no initial value")}var ac=0;var e;if(arguments.length>=2){e=arguments[1]}else{do{if(ac in aa){e=aa[ac++];break}if(++ac>=ad){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;ac<ad;ac++){if(ac in aa){e=Z.call(void 0,e,aa[ac],ac,ab)}}return e}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function x(Z){var ab=F(this),aa=N&&E(this)=="[object String]"?this.split(""):ab,ad=aa.length>>>0;if(E(Z)!="[object Function]"){throw new TypeError(Z+" is not a function")}if(!ad&&arguments.length==1){throw new TypeError("reduceRight of empty array with no initial value")}var e,ac=ad-1;if(arguments.length>=2){e=arguments[1]}else{do{if(ac in aa){e=aa[ac--];break}if(--ac<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(ac<0){return e}do{if(ac in this){e=Z.call(void 0,e,aa[ac],ac,ab)}}while(ac--);return e}}if(!Array.prototype.indexOf||([0,1].indexOf(1,2)!=-1)){Array.prototype.indexOf=function o(Z){var e=N&&E(this)=="[object String]"?this.split(""):F(this),ab=e.length>>>0;if(!ab){return -1}var aa=0;if(arguments.length>1){aa=L(arguments[1])}aa=aa>=0?aa:Math.max(0,ab+aa);for(;aa<ab;aa++){if(aa in e&&e[aa]===Z){return aa}}return -1}}if(!Array.prototype.lastIndexOf||([0,1].lastIndexOf(0,-3)!=-1)){Array.prototype.lastIndexOf=function J(Z){var e=N&&E(this)=="[object String]"?this.split(""):F(this),ab=e.length>>>0;if(!ab){return -1}var aa=ab-1;if(arguments.length>1){aa=Math.min(aa,L(arguments[1]))}aa=aa>=0?aa:ab-Math.abs(aa);for(;aa>=0;aa--){if(aa in e&&Z===e[aa]){return aa}}return -1}}if(!Object.keys){var j=true,p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=p.length;for(var r in {toString:null}){j=false}Object.keys=function A(aa){if((typeof aa!="object"&&typeof aa!="function")||aa===null){throw new TypeError("Object.keys called on a non-object")}var ad=[];for(var Z in aa){if(K(aa,Z)){ad.push(Z)}}if(j){for(var ab=0,ac=h;ab<ac;ab++){var e=p[ab];if(K(aa,e)){ad.push(e)}}}return ad}}var w=-62198755200000,f="-000001";if(!Date.prototype.toISOString||(new Date(w).toISOString().indexOf(f)===-1)){Date.prototype.toISOString=function k(){var e,aa,ab,Z,ac;if(!isFinite(this)){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}Z=this.getUTCFullYear();ac=this.getUTCMonth();Z+=Math.floor(ac/12);ac=(ac%12+12)%12;e=[ac+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];Z=((Z<0?"-":(Z>9999?"+":""))+("00000"+Math.abs(Z)).slice(0<=Z&&Z<=9999?-4:-6));aa=e.length;while(aa--){ab=e[aa];if(ab<10){e[aa]="0"+ab}}return(Z+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z")}}var S=false;try{S=(Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(w).toJSON().indexOf(f)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}}))}catch(U){}if(!S){Date.prototype.toJSON=function H(aa){var ab=Object(this),Z=q(ab),e;if(typeof Z==="number"&&!isFinite(Z)){return null}e=ab.toISOString;if(typeof e!="function"){throw new TypeError("toISOString property is not callable")}return e.call(ab)}}if(!Date.parse||"Date.parse is buggy"){Date=(function(ac){function Z(ai,an,ag,am,al,ao,ah){var aj=arguments.length;if(this instanceof ac){var ak=aj==1&&String(ai)===ai?new ac(Z.parse(ai)):aj>=7?new ac(ai,an,ag,am,al,ao,ah):aj>=6?new ac(ai,an,ag,am,al,ao):aj>=5?new ac(ai,an,ag,am,al):aj>=4?new ac(ai,an,ag,am):aj>=3?new ac(ai,an,ag):aj>=2?new ac(ai,an):aj>=1?new ac(ai):new ac();ak.constructor=Z;return ak}return ac.apply(this,arguments)}var ae=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");var e=[0,31,59,90,120,151,181,212,243,273,304,334,365];function ad(ah,ai){var ag=ai>1?1:0;return(e[ai]+Math.floor((ah-1969+ag)/4)-Math.floor((ah-1901+ag)/100)+Math.floor((ah-1601+ag)/400)+365*(ah-1970))}function aa(ag){return Number(new ac(1970,0,1,0,0,0,ag))}for(var ab in ac){Z[ab]=ac[ab]}Z.now=ac.now;Z.UTC=ac.UTC;Z.prototype=ac.prototype;Z.prototype.constructor=Z;Z.parse=function af(ao){var an=ae.exec(ao);if(an){var aq=Number(an[1]),ap=Number(an[2]||1)-1,ar=Number(an[3]||1)-1,ak=Number(an[4]||0),aj=Number(an[5]||0),ag=Number(an[6]||0),au=Math.floor(Number(an[7]||0)*1000),ai=Boolean(an[4]&&!an[8]),am=an[9]==="-"?1:-1,ah=Number(an[10]||0),al=Number(an[11]||0),at;if(ak<(aj>0||ag>0||au>0?24:25)&&aj<60&&ag<60&&au<1000&&ap>-1&&ap<12&&ah<24&&al<60&&ar>-1&&ar<(ad(aq,ap+1)-ad(aq,ap))){at=((ad(aq,ap)+ar)*24+ak+ah*am)*60;at=((at+aj+al*am)*60+ag)*1000+au;if(ai){at=aa(at)}if(-8640000000000000<=at&&at<=8640000000000000){return at}}return NaN}return ac.parse.apply(this,arguments)};return Z})(Date)}if(!Date.now){Date.now=function R(){return new Date().getTime()}}if(!Number.prototype.toFixed||(0.00008).toFixed(3)!=="0.000"||(0.9).toFixed(0)==="0"||(1.255).toFixed(2)!=="1.25"||(1000000000000000100).toFixed(0)!=="1000000000000000128"){(function(){var e,ag,ad,ae;e=10000000;ag=6;ad=[0,0,0,0,0,0];function Z(aj,ai){var ah=-1;while(++ah<ag){ai+=aj*ad[ah];ad[ah]=ai%e;ai=Math.floor(ai/e)}}function ac(aj){var ah=ag,ai=0;while(--ah>=0){ai+=ad[ah];ad[ah]=Math.floor(ai/aj);ai=(ai%aj)*e}}function aa(){var ai=ag;var aj="";while(--ai>=0){if(aj!==""||ai===0||ad[ai]!==0){var ah=String(ad[ai]);if(aj===""){aj=ah}else{aj+="0000000".slice(0,7-ah.length)+ah}}}return aj}function af(ah,aj,ai){return(aj===0?ai:(aj%2===1?af(ah,aj-1,ai*ah):af(ah*ah,aj/2,ai)))}function ab(ah){var ai=0;while(ah>=4096){ai+=12;ah/=4096}while(ah>=2){ai+=1;ah/=2}return ai}Number.prototype.toFixed=function(ao){var ak,an,ap,ah,al,am,aj,ai;ak=Number(ao);ak=ak!==ak?0:Math.floor(ak);if(ak<0||ak>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}an=Number(this);if(an!==an){return"NaN"}if(an<=-1e+21||an>=1e+21){return String(an)}ap="";if(an<0){ap="-";an=-an}ah="0";if(an>1e-21){al=ab(an*af(2,69,1))-69;am=(al<0?an*af(2,-al,1):an/af(2,al,1));am*=4503599627370496;al=52-al;if(al>0){Z(0,am);aj=ak;while(aj>=7){Z(10000000,0);aj-=7}Z(af(10,aj,1),0);aj=al-1;while(aj>=23){ac(1<<23);aj-=23}ac(1<<aj);Z(1,1);ac(2);ah=aa()}else{Z(0,am);Z(1<<(-al),0);ah=aa()+"0.00000000000000000000".slice(2,2+ak)}}if(ak>0){ai=ah.length;if(ai<=ak){ah=ap+"0.0000000000000000000".slice(0,ak-ai+2)+ah}else{ah=ap+ah.slice(0,ai-ak)+"."+ah.slice(ai-ak)}}else{ah=ap+ah}return ah}}())}var u=String.prototype.split;if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var e=/()??/.exec("")[1]===void 0;String.prototype.split=function(ae,ad){var ah=this;if(ae===void 0&&ad===0){return[]}if(Object.prototype.toString.call(ae)!=="[object RegExp]"){return u.apply(this,arguments)}var ab=[],ac=(ae.ignoreCase?"i":"")+(ae.multiline?"m":"")+(ae.extended?"x":"")+(ae.sticky?"y":""),Z=0,ae=new RegExp(ae.source,ac+"g"),aa,af,ag,ai;ah+="";if(!e){aa=new RegExp("^"+ae.source+"$(?!\\s)",ac)}ad=ad===void 0?-1>>>0:ad>>>0;while(af=ae.exec(ah)){ag=af.index+af[0].length;if(ag>Z){ab.push(ah.slice(Z,af.index));if(!e&&af.length>1){af[0].replace(aa,function(){for(var aj=1;aj<arguments.length-2;aj++){if(arguments[aj]===void 0){af[aj]=void 0}}})}if(af.length>1&&af.index<ah.length){Array.prototype.push.apply(ab,af.slice(1))}ai=af[0].length;Z=ag;if(ab.length>=ad){break}}if(ae.lastIndex===af.index){ae.lastIndex++}}if(Z===ah.length){if(ai||!ae.test("")){ab.push("")}}else{ab.push(ah.slice(Z))}return ab.length>ad?ab.slice(0,ad):ab}}())}else{if("0".split(void 0,0).length){String.prototype.split=function(Z,e){if(Z===void 0&&e===0){return[]}return u.apply(this,arguments)}}}if("".substr&&"0b".substr(-1)!=="b"){var d=String.prototype.substr;String.prototype.substr=function(Z,e){return d.call(this,Z<0?((Z=this.length+Z)<0?0:Z):Z,e)}}var X="\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";if(!String.prototype.trim||X.trim()){X="["+X+"]";var z=new RegExp("^"+X+X+"*"),s=new RegExp(X+X+"*$");String.prototype.trim=function a(){if(this===void 0||this===null){throw new TypeError("can't convert "+this+" to object")}return String(this).replace(z,"").replace(s,"")}}function L(e){e=+e;if(e!==e){e=0}else{if(e!==0&&e!==(1/0)&&e!==-(1/0)){e=(e>0||-1)*Math.floor(Math.abs(e))}}return e}function t(e){var Z=typeof e;return(e===null||Z==="undefined"||Z==="boolean"||Z==="number"||Z==="string")}function q(Z){var ab,e,aa;if(t(Z)){return Z}e=Z.valueOf;if(typeof e==="function"){ab=e.call(Z);if(t(ab)){return ab}}aa=Z.toString;if(typeof aa==="function"){ab=aa.call(Z);if(t(ab)){return ab}}throw new TypeError()}var F=function(e){if(e==null){throw new TypeError("can't convert "+e+" to object")}return Object(e)}});(function(a){if(typeof define=="function"){define("riot/all/Es5More",[],a)}else{if(typeof YUI=="function"){YUI.add("es5-sham",a)}else{a()}}})(function(){var b=Function.prototype.call;var o=Object.prototype;var x=b.bind(o.hasOwnProperty);var E;var I;var D;var H;var l;if((l=x(o,"__defineGetter__"))){E=b.bind(o.__defineGetter__);I=b.bind(o.__defineSetter__);D=b.bind(o.__lookupGetter__);H=b.bind(o.__lookupSetter__)}if(!Object.getPrototypeOf){Object.getPrototypeOf=function G(L){return L.__proto__||(L.constructor?L.constructor.prototype:o)}}function J(L){try{L.sentinel=0;return Object.getOwnPropertyDescriptor(L,"sentinel").value===0}catch(M){}}if(Object.defineProperty){var f=J({});var h=typeof document=="undefined"||J(document.createElement("div"));if(!h||!f){var c=Object.getOwnPropertyDescriptor}}if(!Object.getOwnPropertyDescriptor||c){var a="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function p(N,P){if((typeof N!="object"&&typeof N!="function")||N===null){throw new TypeError(a+N)}if(c){try{return c.call(Object,N,P)}catch(O){}}if(!x(N,P)){return}var Q={enumerable:true,configurable:true};if(l){var M=N.__proto__;N.__proto__=o;var L=D(N,P);var R=H(N,P);N.__proto__=M;if(L||R){if(L){Q.get=L}if(R){Q.set=R}return Q}}Q.value=N[P];Q.writable=true;return Q}}if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function v(L){return Object.keys(L)}}if(!Object.create){var y;var w=Object.prototype.__proto__===null;if(w||typeof document=="undefined"){y=function(){return{__proto__:null}}}else{y=function(){var N=document.createElement("iframe");var M=document.body||document.documentElement;N.style.display="none";M.appendChild(N);N.src="javascript:";var O=N.contentWindow.Object.prototype;M.removeChild(N);N=null;delete O.constructor;delete O.hasOwnProperty;delete O.propertyIsEnumerable;delete O.isPrototypeOf;delete O.toLocaleString;delete O.toString;delete O.valueOf;O.__proto__=null;function L(){}L.prototype=O;y=function(){return new L()};return new L()}}Object.create=function g(N,O){var M;function L(){}if(N===null){M=y()}else{if(typeof N!=="object"&&typeof N!=="function"){throw new TypeError("Object prototype may only be an Object or null")}L.prototype=N;M=new L();M.__proto__=N}if(O!==void 0){Object.defineProperties(M,O)}return M}}function r(L){try{Object.defineProperty(L,"sentinel",{});return"sentinel" in L}catch(M){}}if(Object.defineProperty){var e=r({});var s=typeof document=="undefined"||r(document.createElement("div"));if(!e||!s){var q=Object.defineProperty,F=Object.defineProperties}}if(!Object.defineProperty||q){var d="Property description must be an object: ";var z="Object.defineProperty called on non-object: ";var k="getters & setters can not be defined on this javascript engine";Object.defineProperty=function B(M,O,P){if((typeof M!="object"&&typeof M!="function")||M===null){throw new TypeError(z+M)}if((typeof P!="object"&&typeof P!="function")||P===null){throw new TypeError(d+P)}if(q){try{return q.call(Object,M,O,P)}catch(N){}}if(x(P,"value")){if(l&&(D(M,O)||H(M,O))){var L=M.__proto__;M.__proto__=o;delete M[O];M[O]=P.value;M.__proto__=L}else{M[O]=P.value}}else{if(!l){throw new TypeError(k)}if(x(P,"get")){E(M,O,P.get)}if(x(P,"set")){I(M,O,P.set)}}return M}}if(!Object.defineProperties||F){Object.defineProperties=function t(L,N){if(F){try{return F.call(Object,L,N)}catch(M){}}for(var O in N){if(x(N,O)&&O!="__proto__"){Object.defineProperty(L,O,N[O])}}return L}}if(!Object.seal){Object.seal=function A(L){return L}}if(!Object.freeze){Object.freeze=function n(L){return L}}try{Object.freeze(function(){})}catch(j){Object.freeze=(function n(M){return function L(N){if(typeof N=="function"){return N}else{return M(N)}}})(Object.freeze)}if(!Object.preventExtensions){Object.preventExtensions=function u(L){return L}}if(!Object.isSealed){Object.isSealed=function K(L){return false}}if(!Object.isFrozen){Object.isFrozen=function C(L){return false}}if(!Object.isExtensible){Object.isExtensible=function m(M){if(Object(M)!==M){throw new TypeError()}var L="";while(x(M,L)){L+="?"}M[L]=true;var N=x(M,L);delete M[L];return N}}});var Riot=Riot||(window.rg||{});(function(){var a=Object.prototype.toString;Riot.emptyFn=function(){};Riot.isNumber=function(b){return typeof b==="number"};Riot.isString=function(b){return typeof b==="string"};Riot.isObject=function(b){return b!==null&&b!==undefined&&a.call(b)==="[object Object]"&&b.ownerDocument===undefined};Riot.isArray=("isArray" in Array)?Array.isArray:function(b){return a.call(b)==="[object Array]"};Riot.isFunction=function(b){return a.call(b)==="[object Function]"};Riot.isElement=(function(){if(typeof HTMLElement==="object"){return function(b){return b instanceof HTMLElement}}else{return function(b){return b&&typeof b==="object"&&b.nodeType===1&&typeof b.nodeName==="string"}}}());Riot.confine=function(d,c,b){if(d<c){return c}if(d>b){return b}return d};Riot.indexOf=function(e,d){var b,c;for(b=0,c=e.length;b<c;b=b+1){if(e[b]===d){return b}}return -1};Riot.apply=function(){var c=Array.prototype.slice.call(arguments,0),b=c.shift(),e,d;while(e=c.shift()){for(d in e){if(e.hasOwnProperty(d)){b[d]=e[d]}}}return b};Riot.applyIf=function(){var c=Array.prototype.slice.call(arguments,0),b=c.shift(),e,d;while(e=c.shift()){for(d in e){if(e.hasOwnProperty(d)){if(b[d]===undefined){b[d]=e[d]}}}}return b};Riot.namespace=function(g){var f=window,e=g.split("."),d=e.length,c,b;for(c=0;c<d;c=c+1){b=e[c];if(!f[b]){f[b]={}}f=f[b]}return f};Riot.objectQuery=function(e,d){var b,c;if(!d){d=window}e=e.split(".");for(b=0,c=e.length;b<c;b=b+1){if(d[e[b]]!==undefined){d=d[e[b]]}else{return undefined}}return d};Riot.format=function(c,d){if(Riot.isArray(c)){c=c.join("")}for(var b in d){if(d.hasOwnProperty(b)){c=c.replace(new RegExp("{{ "+b+" }}","g"),d[b])}}return c};Riot.each=function(b,e){if(!Riot.isArray(b)){e(b,0);return}for(var c=0,d=b.length;c<d;c=c+1){if(e(b[c],c)===false){return}}};Riot.id=(function(){var b=100;return function(c){b=b+1;c=c||"riot";return c+"-"+b}}());Riot.log=function(b){if(Riot.isString(b)){b={level:"warn",msg:b}}if(window.console){if(console[b.level]){console[b.level](b.msg)}else{console.log(b.msg)}if(b.dump){console.dir(b.dump)}if(b.stack&&console.trace){if(b.level!="error"){console.trace()}}}};Riot.error=function(d){var e=this,b=arguments,g=this.error.caller,c,f;if(Riot.isString(d)){d={level:"error",msg:d,stack:true}}if(g){if(g.$name){d.sourceMethod=g.$name}if(g.$owner){d.sourceClass=g.$owner.$className}}if(Riot.throwErrors!==false){Riot.log(d)}throw d.msg}}());(function(){var a=Riot.Base=function(){};a.prototype={$className:"Riot.Base",$class:a,constructor:function(){return this},callParent:function(d){var f=this,c=arguments,h=f.callParent.caller,b,g,e;if(h!=null&&!h.$owner){if(!h.caller){Riot.error("Unable to locate method for callParent to execute.")}h=h.caller}if(!h.$owner){Riot.error("Unable to resolve method for callParent. Make sure all methods are added using Riot.define.")}b=h.$name;g=h.$owner.superClass;e=g;do{if(b in e.prototype){break}e=e.superClass}while(e);if(!e){Riot.error('No parent method "'+b+'" was found in '+g.prototype.$className+".")}return g.prototype[b].apply(this,d||[])},addMember:function(b,d){var c=this;if(typeof d==="function"){a.prototype.addMethod.call(c,b,d)}else{c.prototype[b]=d}},addMethod:function(c,d){var e=this,b;if(typeof d.$owner!=="undefined"&&d!==Riot.emptyFn){b=d;d=function(){return b.apply(e,arguments)}}d.$owner=e;d.$name=c;e.prototype[c]=d},addMixin:function(c){var d=this,b;if(typeof c==="string"){c=Riot.objectQuery(c)}for(b in c.prototype){if(c.prototype.hasOwnProperty(b)&&!d[b]){d.prototype[b]=c.prototype[b]}}}}}());(function(){var b={},c={},d=Riot.Base.prototype,a=Riot.ClassManager=(function(){var e=(function(){function f(){}return function(g){f.prototype=g;return new f()}}());return{define:function(g,j,p){g=g.split(".");var n=g.pop(),f={statics:true,mixins:true,extend:true},l,m,o,k,h;j=Riot.applyIf(j,{extend:"Riot.Base",mixins:[],statics:{}});g=g.join(".");m=Riot.objectQuery(j.extend);if(b[g+"."+n]){Riot.error("Class "+g+"."+n+" already exists.");return}if(!j.init&&!m.prototype.init){Riot.error("Error creating class "+g+"."+n+": method `init` is undefined.");return}l=Riot.namespace(g);l[n]=function(){var q=this;q.init.apply(q,arguments)};l=l[n];l.prototype=e(m.prototype);l.superClass=m;for(o in j){if(j.hasOwnProperty(o)&&!f[o]){d.addMember.call(l,o,j[o])}}for(o in j.statics){if(j.statics.hasOwnProperty(o)&&!l[o]){l[o]=j.statics[o]}}for(k=0,h=j.mixins.length;k<h;k=k+1){d.addMixin.call(l,j.mixins[k])}l.prototype.$className=g+"."+n;if(p){p(l)}b[g+"."+n]=true},getInstantiator:function(j){var h=this;h.instantiators=h.instantiators||[];if(j>3){Riot.log("Instantiating a class with more than three arguments, is this an error?")}if(!h.instantiators[j]){var f=[],g;for(g=0;g<j;g=g+1){f.push("a["+g+"]")}h.instantiators[j]=new Function("c","a","return new c("+f.join(",")+");")}return h.instantiators[j]},instantiate:function(){var j=this,g=Array.prototype.slice.call(arguments,0),h=g.shift(),f=Riot.objectQuery(h);return j.getInstantiator(g.length)(f,g)}}}());Riot.create=function(){return a.instantiate.apply(a,arguments)};Riot.define=function(){return a.define.apply(a,arguments)}}());Riot.namespace("Riot.util");(function(){var a=Riot.util.Observable=function(){};a.prototype={events:null,addEvents:function(c){var f=this,b,e;f.events=f.events||{};function d(g){if(!(g in f.events)){f.events[g]=[]}}if(Riot.isString(c)){d(c)}else{if(Riot.isArray(c)){for(b=0,e=c.length;b<e;b=b+1){d(c[b])}}else{if(Riot.isObject(c)){for(b in c){if(c.hasOwnProperty(b)){d(b)}}}}}},addListener:(function(){var b=/^(single|scope)$/;function c(d,f){var e=this;return function(){e.removeListener(f.ename,f.fn);d()}}return function(f,l,o,p){var j=this,e=f,k=[],g={},n,h,d,m;if(Riot.isString(e)){e={fn:l,scope:o,ename:f}}if(!e.fn&&!e.ename){for(m in e){if(e.hasOwnProperty(m)){if(b.test(m)){g[m]=e[m];continue}if(Riot.isObject(e[m])){e[m].ename=m;k.push(e[m]);continue}k.push({ename:m,fn:e[m]})}}for(h=0,d=k.length;h<d;h=h+1){j.addListener(k[h],undefined,g.scope,g)}return}if(!Riot.isFunction(e.fn)){Riot.error("Listener did not contain a valid callback. Expected function received "+(typeof f[m])+".")}if(!e.options){e.options=p||{}}if(!j.hasEvent(e.ename)){return false}if(!e.scope&&(e.options.scope||o)){e.scope=e.options.scope||o}n=e.fn;if(e.options.single){n=c.call(j,n,e)}e.fireFn=n;j.events[e.ename].push(e)}}()),fireEvent:function(){var g=this,b=Array.prototype.slice.call(arguments,0),d=b.shift(),e,c,f;if(!g.hasEvent(d)){return false}e=g.events[d];for(c=0,f=e.length;c<f;c=c+1){if(e[c].fireFn.apply(e[c].scope||{},b)===false){return false}}return true},hasEvent:function(b){var c=this;return(b in c.events)},removeListener:function(c,e){var g=this,d,b,f;if(!g.hasEvent(c)){return}d=g.events[c];for(b=0,f=d.length;b<f;b=b+1){if(d[b].fn===e){d.splice(b,1)}}},removeAllListeners:function(b){var c=this;if(b){c.events[b]=[];return}for(b in c.events){if(c.events.hasOwnProperty(b)){c.events[b]=[]}}}};a.prototype.on=a.prototype.addListener;a.prototype.un=a.prototype.removeListener}());Riot.namespace("Riot.util");(function(){var a=Riot.util.Cookie={set:function(c,e,b){var d=c+"="+e+";";b=Riot.applyIf(b||{},{expires:false,path:false,domain:false,secure:false});if(b.expires){d=d+"expires="+b.expires+";"}if(b.path){d=d+"path="+b.path+";"}if(b.domain){d=d+"domain="+b.domain+";"}if(b.secure){d=d+"secure;"}document.cookie=d},get:function(c){var d=new RegExp(c+"=([^;]*)"),b=d.exec(document.cookie);if(b){return b[1]}return false}}}());Riot.define("Riot.Collection",{mixins:["Riot.util.Observable"],init:function(a,c){var b=this;b.keys=[];b.data=[];b.cache=[];b.addEvents({add:true,remove:true,load:true,clear:true});if(Riot.isString(a)){b.getId=function(d){return d[a]}}else{if(Riot.isFunction(a)){b.getId=a}else{b.getId=function(d){return d.getId()}}}if(c){b.load(c)}},getAt:function(a){return this.data[a]},get:function(a){var b=this;if(b.cache[a]){return b.cache[a]}return false},getIndex:function(e){var d=this,b=d.getId(e),a,c;for(a=0,c=d.keys.length;a<c;a=a+1){if(d.keys[a]===b){return a}}return -1},add:function(c){var b=this,a=b.getId(c);b.keys.push(a);b.data.push(c);b.cache[a]=c;if(!b.loading){b.fireEvent("add",b,c)}},remove:function(a){var c=this,b;if(!Riot.isNumber(a)){b=a;a=c.getIndex(a)}else{b=c.getAt(a)}delete c.cache[c.keys[a]];c.data.splice(a,1);c.keys.splice(a,1);c.fireEvent("remove",c,b)},load:function(d){var c=this,a,b;c.loading=true;for(a=0,b=d.length;a<b;a=a+1){c.add(d[a])}c.buildCache();c.loading=false;c.fireEvent("load",c)},clear:function(){var a=this;a.data=[];a.keys=[];a.fireEvent("clear",a)},buildCache:function(){var c=this,a,b;for(a=0,b=c.data.length;a<b;a=a+1){c.cache[c.keys[a]]=c.data[a]}},each:function(b){var d=this,a,c;for(a=0,c=d.data.length;a<c;a=a+1){if(b(d.data[a],a)===false){return false}}return true},getCount:function(){return this.data.length}});Riot.define("Riot.Template",{statics:{defaultHelpers:{}},init:function(a,c){var b=this;if(Riot.isArray(a)){a=a.join("\n")}b.markup=a;b.helpers=c||{};b.execute=Riot.template.Compiler.compile(b.markup)},getHelper:function(a){var b=this;if(Riot.Template.defaultHelpers.hasOwnProperty(a)){return Riot.Template.defaultHelpers[a]}if(b.helpers.hasOwnProperty(a)){return b.helpers[a]}}},function(){Riot.Template.defaultHelpers={capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},"default":function(b,a){if(!b){return a}return b},even:function(a){return(a%2)===0},empty:function(a){if(Riot.isArray(a)){return a.length===0}return a===null||a===undefined||a===""},format:function(){var a=Array.prototype.slice.call(arguments,0),d=a.shift(),b,c;for(b=0,c=a.length;b<c;b=b+1){d=d.replace(/%s/,a[b])}return d},join:function(b,a){return b.join(a)},keys:function(c){var b=[],a;for(a in c){if(c.hasOwnProperty(a)){b.push(a)}}return b},length:function(a){return a.length},lower:function(a){return a.toLowerCase()},merge:function(a,b){if(Riot.isArray(a)){return a.concat(b)}return Riot.applyIf(a,b)},nl2br:function(a){return a.replace(/\n/g,"<br/>")},numberFormat:function(d){var c=/(\d+)(\d{3})/,a,e,b;d=d+"";b=d.split(".");a=b[0];e=(b.length>1)?"."+b[1]:"";while(c.test(a)){a=a.replace(c,"$1,$2")}return a+e},odd:function(a){return(a%2)===1},range:function(c,b){var a={};for(i=c;i<=b;i=i+1){a[i]=""}return a},replace:function(b,c){for(var a in c){if(c.hasOwnProperty(a)){b=b.replace(a,c[a])}}return b},reverse:function(a){if(Riot.isArray(a)){return a.reverse()}a=a+"";return a.split("").reverse().join("")},slice:function(b,c,a){if(Riot.isString(b)){return b.substring(c,a)}return b.slice(c,a)},sort:function(b,a){if(a==="desc"||a==="DESC"){return b.sort(function(d,c){return c-d})}return b.sort()},striptags:function(a){return a.replace(/(<([^>]+)>)/ig,"")},title:function(a){return a.replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()})},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},upper:function(a){return a.toUpperCase()},isArray:function(a){return Riot.isArray(a)}};Riot.Template.defaultHelpers.date=(function(){var b=/\\?([a-z])/gi,f=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],a,c;function e(h,g){if(h.length<g){return(new Array((g-h.length)+1).join("0"))+h}return h}function d(h,g){if(a[h]){return a[h]()}return g}a={d:function(){return e(a.j(),2)},D:function(){return a.l().slice(0,3)},j:function(){return c.getDate()},l:function(){return f[a.w()]+"day"},N:function(){return a.w()||7},S:function(){var g=a.j();return g<4|g>20&&["st","nd","rd"][g%10-1]||"th"},w:function(){return c.getDay()},z:function(){var h=new Date(a.Y(),a.n()-1,a.j()),g=new Date(a.Y(),0,1);return Math.round((h-g)/86400000)+1},W:function(){var h=new Date(a.Y(),a.n()-1,a.j()-a.N()+3),g=new Date(h.getFullYear(),0,4);return e(1+Math.round((h-g)/86400000/7),2)},F:function(){return f[6+a.n()]},m:function(){return e(a.n(),2)},M:function(){return a.F().slice(0,3)},n:function(){return c.getMonth()+1},t:function(){return(new Date(a.Y(),a.n(),0)).getDate()},L:function(){var g=a.Y();return g%4==0&g%100!=0|g%400==0},o:function(){var j=a.n(),g=a.W(),h=a.Y();return h+(j===12&&g<9?-1:j===1&&g>9)},Y:function(){return c.getFullYear()},y:function(){return(a.Y()+"").slice(-2)},a:function(){return c.getHours()>11?"pm":"am"},A:function(){return a.a().toUpperCase()},B:function(){var h=c.getUTCHours()*3600,g=c.getUTCMinutes()*60,j=c.getUTCSeconds();return e(Math.floor((h+g+j+3600)/86.4)%1000,3)},g:function(){return a.G()%12||12},G:function(){return c.getHours()},h:function(){return e(a.g(),2)},H:function(){return e(a.G(),2)},i:function(){return e(c.getMinutes(),2)},s:function(){return e(c.getSeconds(),2)},u:function(){return e(c.getMilliseconds()*1000,6)},I:function(){var h=new Date(a.Y(),0),k=Date.UTC(a.Y(),0),g=new Date(a.Y(),6),j=Date.UTC(a.Y(),6);return 0+((h-k)!==(g-j))},O:function(){var h=c.getTimezoneOffset(),g=Math.abs(h);return(h>0?"-":"+")+e(Math.floor(g/60)*100+g%60,4)},P:function(){var g=a.O();return(g.substr(0,3)+":"+g.substr(3,2))},Z:function(){return -c.getTimezoneOffset()*60},c:function(){return"Y-m-d\\Th:i:sP".replace(formatChr,formatChrCb)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U:function(){return c/1000|0}};return function(j,h){var g=h;if(!g){g=new Date()}if(!Riot.isDate(g)){if(Riot.isNumber(g)){g=new Date(g)}}c=g;return j.replace(b,d)}}())});Riot.namespace("Riot.template");(function(){var n=[],g=/\s*({% ([^ ]+).* %})/,c=/\s*{% set ([a-z][a-z0-9A-Z]+) ?\= (.+) %}/,o=/.+?('|")/,l=/(\b[a-z][a-z0-9._]*\b(?!\())(\|([a-z][a-z0-9]*)(\([^)]+\))?)?/i,f=/(\b(range|odd|even)\b)(\([^)]+\))/,d=/\s*{% for (.+?) in (.+?) %}/,h=/\s*{% if (.+?)(([=!<>]=|[><]|is|not|is not)(.+?))? %}/,e=/\{\{ (.+?) \}\}/,k={};function m(p){if(!a(p)){n.push(p)}}function a(p){var q,r;for(q=0,r=n.length;q<r;q=q+1){if(n[q]===p){return true}}return false}function b(x){var u=0,w=[],r,q,s,p,t,v;while(o.test(x)){r=o.exec(x);q=x.indexOf(r[1]);for(s=q+1,p=x.length;s<p;s=s+1){if(x.charAt(s)===r[1]){if(x.charAt(s-1)!=="\\"){t=x.slice(q,s+1);v=u+"str";w.push({key:v,string:t});x=x.replace(t,v);u=u+1;break}}}}return{line:x,strings:w}}k.end=function(p){return"}"};k["else"]=function(p){return"} else {"};k["for"]=function(q){var p=d.exec(q);m(p[1]);if(l.test(p[2])){p[2]=k.variables(p[2])}if(f.test(p[2])){p[2]=k.keywords(p[2])}return"for ("+p[1]+" in "+p[2]+") {\n"+p[1]+" = "+p[2]+"["+p[1]+"];"};k.helper=function(q,r,p){if(p){return'me.getHelper("'+r+'")('+q+","+p.substring(1)}else{return'me.getHelper("'+r+'")('+q+")"}};k["if"]=function(q){var p=h.exec(q),v=p[1].replace(/^\s+|\s+$/g,""),s,u,r,t;u=b(v);v=u.line;v=k.variables(v);for(r=0,t=u.strings.length;r<t;r=r+1){v=v.replace(u.strings[r].key,u.strings[r].string)}if(!p[2]){return"if ("+v+") {"}else{s=p[4].replace(/^\s+|\s+$/g,"");u=b(s);s=u.line;s=k.variables(s);for(r=0,t=u.strings.length;r<t;r=r+1){s=s.replace(u.strings[r].key,u.strings[r].string)}return"if ("+v+" "+p[3]+" "+s+") {"}};k.keywords=function(q){var p=f.exec(q);return'me.getHelper("'+p[1]+'")'+p[3]};k.set=function(q){var p=c.exec(q),t,r,s;t=b(p[2]);q=t.line;q=k.variables(q);m(p[1]);for(r=0,s=t.strings.length;r<s;r=r+1){q=q.replace(t.strings[r].key,t.strings[r].string)}q=p[1]+" = "+q+";";return q};k.text=function(q){var p;q="html = html + '"+q+"';";while(e.test(q)){p=e.exec(q);if(f.test(p[1])){q=q.replace(p[0],"' + "+k.keywords(p[1])+" + '")}else{q=q.replace(p[0],"' + "+k.variables(p[1])+" + '")}}return q};k.variables=function(q){var w="",v=[],t=0,p,u,r,s;while(l.test(q)){p=l.exec(q);if(p[1].indexOf(".")!=-1){u=p[1].split(".").shift()}else{u=p[1]}if(!a(u)&&p[1]!="true"&&p[1]!="false"){p[1]="data."+p[1]}if(p[3]){p[1]=k.helper(p[1],p[3],p[4])}v.push({key:t+"var",variable:p[1]});q=q.replace(p[0],t+"var")}for(r=0,s=v.length;r<s;r=r+1){q=q.replace(v[r].key,v[r].variable)}return q};var j=Riot.template.Compiler={compile:function(u){var s=[],q,r,p;if(Riot.isString(u)){q=u.split(/\r\n|\n/g)}else{q=u}n=[];r=q.shift();while(r){p=g.exec(r);if(p){switch(p[2]){case"endfor":case"endif":s.push(k.end(r));break;default:s.push(k[p[2]](r));break}}else{s.push(k.text(r))}r=q.shift()}if(n.length>0){s.unshift("var me = this, html = '', "+n.join(", ")+";")}else{s.unshift("var me = this, html = '';")}s.push("return html;");try{return new Function("data",s.join("\n"))}catch(t){Riot.error("Error Compiling:\n"+s.join("\n"))}}}}());(function(){var a=/^\s+|\s+$/g,c=/\s/,b=/(px|em)/ig;Riot.define("Riot.dom.Element",{statics:{get:function(d){var e=d;if(!d){return null}if(d instanceof Riot.dom.Element){return d}if(!Riot.isString(d)){e=d.id}if(!e&&Riot.isElement(d)){e=Riot.id();d.id=e;return Riot.create("Riot.dom.Element",d)}if(e in Riot.elCache){return Riot.elCache[e]}if(Riot.isString(d)&&!document.getElementById(d)){return null}return Riot.create("Riot.dom.Element",d)}},init:function(d){var e=this,f=d,g;if(Riot.isString(f)){f=document.getElementById(f)}if(!f){return null}g=f.id;if(!g){g=Riot.id("riot-el");f.id=g}e.id=g;e.dom=f;e.updateClassCache();e.cacheBoxSizing();Riot.elCache[e.id]=e},getParent:function(d){var e=this;return e.doGetParent(d)},animate:function(d,f,g){var e=this;e.doAnimate(d,f,g)},updateClassCache:function(){var g=this,d,e,f;g.clsCache={};if(!g.dom.className){return}d=g.dom.className.replace(a,"").split(c);for(e=0,f=d.length;e<f;e=e+1){g.clsCache[d[e]]=true}},addClass:function(d){var e=this;e.doAddClass(d);e.updateClassCache();e.cacheBoxSizing();return e},removeClass:function(d){var e=this;e.doRemoveClass(d);e.updateClassCache();e.cacheBoxSizing();return e},hasClass:function(d){var g=this,e,f;if(!Riot.isArray(d)){return g.clsCache[d]}for(e=0,f=d.length;e<f;e=e+1){if(!g.clsCache[d[e]]){return false}}return true},toggleClass:function(e,d){var g=this,f=e;if(Riot.isString(e)){if(d===undefined){d=!g.hasClass(e)}f={};f[e]=d}for(e in f){if(f.hasOwnProperty(e)){if(f[e]===true){if(!g.hasClass(e)){g.addClass(e)}}else{if(f[e]===false){if(g.hasClass(e)){g.removeClass(e)}}}}}},remove:function(){var d=this;d.doRemove();Riot.elCache[d.id]=null},appendTo:function(d){var e=this;if(d instanceof Riot.dom.Element){d=d.dom}else{if(Riot.isString(d)){d=document.getElementById(d)}}e.doAppendTo(d);return e},insertAfter:function(d){var e=this;if(d instanceof Riot.dom.Element){d=d.dom}else{if(Riot.isString(d)){d=document.getElementById(d)}}e.doInsertAfter(d);return e},insertBefore:function(d){var e=this;if(d instanceof Riot.dom.Element){d=d.dom}else{if(Riot.isString(d)){d=document.getElementById(d)}}e.doInsertBefore(d);return e},insertFirst:function(d){var e=this;if(d instanceof Riot.dom.Element){d=d.dom}else{if(Riot.isString(d)){d=document.getElementById(d)}}if(d.childNodes.length===0){e.appendTo(d)}else{e.insertBefore(d.firstChild)}return e},is:function(d){var e=this;return e.doIs(d)},position:function(d){var e=this;if(Riot.isObject(d.of)){if(d.of.dom){d.of=d.of.dom}}return e.doPosition(d)},setStyle:function(e,g){var f=this,d;if(Riot.isString(e)){f.doSetStyle(e,g);if(e==="box-sizing"){f.cacheBoxSizing()}return f}for(d in e){if(e.hasOwnProperty(d)){f.setStyle(d,e[d])}}return f},getStyle:function(d,g){var e=this,f=e.doGetStyle(d);if(g===undefined){g=true}if(g&&b.test(f)){f=f.replace(b,"");f=parseFloat(f)}return f},cacheBoxSizing:function(){var d=this;d.boxSizing=d.isBorderBox()?"border-box":"content-box"},clean:function(){var d=this;d.doClean();return d},getValue:function(){var d=this;return d.dom.value},doAnimate:Riot.emptyFn,doClean:Riot.emptyFn,doAddClass:Riot.emptyFn,doRemoveClass:Riot.emptyFn,doRemove:Riot.emptyFn,doAppendTo:Riot.emptyFn,doInsertAfter:Riot.emptyFn,doInsertBefore:Riot.emptyFn,doGetStyle:Riot.emptyFn,doSetStyle:Riot.emptyFn,doGetParent:Riot.emptyFn,doIs:Riot.emptyFn,doPosition:Riot.emptyFn,detach:Riot.emptyFn,show:Riot.emptyFn,hide:Riot.emptyFn,html:Riot.emptyFn,isBorderBox:Riot.emptyFn,get:Riot.emptyFn,set:Riot.emptyFn,getWidth:Riot.emptyFn,getHeight:Riot.emptyFn,setWidth:function(d){var e=this;if(e.boxSizing==="border-box"){e.dom.style.width=d+"px"}else{e.dom.style.width=(d-e.getFrameWidth())+"px"}return e},setHeight:function(d){var e=this;if(e.boxSizing==="border-box"){e.dom.style.height=d+"px"}else{e.dom.style.height=(d-e.getFrameHeight())+"px"}return e},on:Riot.emptyFn,un:Riot.emptyFn});Riot.elCache={};Riot.get=Riot.dom.Element.get;Riot.getBody=function(){return Riot.get(document.body)}}());(function(){function b(c){var e=[],d;for(d in c){if(c.hasOwnProperty(d)){e.push(d.replace(/([A-Z])/g,"-$1").toLowerCase()+": "+c[d])}}return e.join(";")+";"}var a=Riot.dom.Helper={append:function(f,d){var c=a.markup(d),e=a.createDom(c);f=Riot.get(f);e=Riot.get(e);e.appendTo(f);return e},markup:function(f){var j=[],e=[],h=[],d="",c,g,k;if(Riot.isString(f)){return f}j.push("<"+f.tag);for(c in f){if(f.hasOwnProperty(c)){switch(c){case"tag":case"cn":break;case"html":d=f[c];break;case"cls":if(Riot.isArray(f[c])){f[c]=f[c].join(" ")}e.push('class="'+f[c]+'"');break;case"style":if(Riot.isObject(f[c])){f[c]=b(f[c])}e.push(c+'="'+f[c]+'"');break;default:e.push(c+'="'+f[c]+'"')}}}if(f.cn){for(g=0,k=f.cn.length;g<k;g=g+1){h.push(a.markup(f.cn[g]))}}if(e.length>0){j.push(" "+e.join(" "))}j.push(">");return j.join("")+d+h.join("")+"</"+f.tag+">"},insertAfter:function(f,d){var c=a.markup(d),e=a.createDom(c);f=Riot.get(f);e=Riot.get(e);e.insertAfter(f);return e},insertBefore:function(f,d){var c=a.markup(d),e=a.createDom(c);f=Riot.get(f);e=Riot.get(e);e.insertBefore(f);return e},insertFirst:function(f,d){var c=a.markup(d),e=a.createDom(c);f=Riot.get(f);e=Riot.get(e);e.insertFirst(f);return e},overwrite:function(e,d){var c=a.markup(d);e=Riot.get(e);e.html(c)},createDom:Riot.emptyFn}}());(function(){var a=Riot.dom.Query={query:function(g,b,c){var e,d,f;b=b||document.documentElement;c=c||{};if(Riot.isString(b)){b=document.getElementById(b)}if(b.dom){b=b.dom}e=a.doQuery(g,b);if(c.el){for(d=0,f=e.length;d<f;d=d+1){e[d]=Riot.get(e[d])}}if(c.first){return e.shift()}return e},doQuery:Riot.emptyFn};Riot.query=a.query}());Riot.onReady=function(b,a){jQuery(document).ready(function(){b.call(a)})};(function(){var a=Riot.dom.Element.prototype,b,c;jQuery(document.body).append('<div id="riot-box-test" style="padding:1px;width:1px;border:1px;"></div>');b=jQuery("#riot-box-test");c=b.width();b.remove();if(c===1){c="content-box"}else{c="border-box"}a.getjQuery=function(){var d=this;if(d.jQuery){return d.jQuery}d.jQuery=jQuery(d.dom);return d.jQuery};a.doAnimate=function(d,f,h){var e=this,g=e.getjQuery();g.animate(d,f,h)};a.doAddClass=function(d){var e=this,f=e.getjQuery();if(Riot.isArray(d)){d=d.join(" ")}f.addClass(d)};a.doRemoveClass=function(d){var e=this,f=e.getjQuery();if(Riot.isArray(d)){d=d.join(" ")}f.removeClass(d)};a.doRemove=function(){var d=this,e=d.getjQuery();e.remove()};a.doAppendTo=function(e){var d=this,f=d.getjQuery();f.appendTo(e)};a.doInsertAfter=function(e){var d=this,f=d.getjQuery();f.insertAfter(e)};a.doInsertBefore=function(e){var d=this,f=d.getjQuery();f.insertBefore(e)};a.show=function(){var d=this,e=d.getjQuery();e.show();return d};a.hide=function(){var d=this,e=d.getjQuery();e.hide();return d};a.get=function(d){var e=this,f=e.getjQuery();return f.attr(d)};a.set=function(d,f){var e=this,g=e.getjQuery();g.attr(d,f);return e};a.html=function(d){var e=this,f=e.getjQuery();if(Riot.isArray(d)){d=d.join("")}f.html(d);return e};a.doSetStyle=function(d,f){var e=this,g=e.getjQuery();d=d.replace(/([A-Z])/g,"-$1");g.css(d,f)};a.on=(function(){var d=(jQuery("body").on)?"on":"bind";return function(e,g,f){var h=this,j=h.getjQuery();if(f){g=jQuery.proxy(g,f)}j[d](e,g);return h}}());a.un=function(d,e){var f=this,g=f.getjQuery();g.off(d,e)};a.detach=function(){var d=this,e=d.getjQuery();e.detach();return d};a.getWidth=function(f){var e=this,g=e.getjQuery(),d=g.width();if(!f){d=d+e.getFrameWidth()}return d};a.getHeight=function(f){var e=this,g=e.getjQuery(),d=g.height();if(!f){d=d+e.getFrameHeight()}return d};a.sumCssProperties=function(){var h=this,j=h.getjQuery(),d=Array.prototype.slice.call(arguments,0),f=0,e,g;for(e=0,g=d.length;e<g;e=e+1){f=f+parseFloat(j.css(d[e]).replace(/[a-z]/ig))}return f};a.getFrameWidth=function(){var d=this;return d.sumCssProperties("border-left-width","border-right-width","padding-left","padding-right")};a.getFrameHeight=function(){var d=this;return d.sumCssProperties("border-top-width","border-bottom-width","padding-top","padding-bottom")};a.isBorderBox=function(){var e=this,f=e.getjQuery(),d=f.css("box-sizing");if(d){return d==="border-box"}return c==="border-box"};a.doClean=function(){var d=this,e=d.getjQuery();if(!window.Node){window.Node={TEXT_NODE:3}}e.contents().filter(function(){return this.nodeType===Node.TEXT_NODE&&this.nodeValue.replace(/\n\r?\s*/g,"")===""}).remove()};a.doGetStyle=function(d){var e=this,f=e.getjQuery();return f.css(d)};a.doGetParent=function(d){var f=this,g=f.getjQuery(),e;if(!d){return Riot.get(f.dom.parentNode)}else{e=g.parents(d);return Riot.get(e[0])}};a.doIs=function(d){var e=this,f=e.getjQuery();return f.is(d)};a.doPosition=function(d){var e=this,f=e.getjQuery();f.position(d);return e}}());(function(){Riot.dom.Helper.createDom=function(a){if(Riot.isObject(a)){a=Riot.dom.Helper.markup(a)}return jQuery(a)[0]}}());(function(){Riot.dom.Query.doQuery=function(a,b){var c=jQuery(a,b);return jQuery.makeArray(c)}}());Riot.define("Riot.Component",{mixins:["Riot.util.Observable"],statics:{AUTO_ID:100,getAutoId:function(){return Riot.Component.AUTO_ID++},elTpl:'<div id="{{ id }}" class="{{ classes }}"></div>'},renderTpl:"",baseId:"riot-component",baseClass:"riot-component",childEls:null,initConfig:function(a){var b=this;a=Riot.applyIf(a,b.defaults||{});return a},init:function(a){var b=this;b.addEvents({beforerender:true,render:true,afterrender:true,beforedestroy:true});b.rendered=false;a=b.initConfig(a);b.config=a;Riot.apply(b,b.config);b.addClass(b.baseClass);b.initComponent();if(b.listeners){b.on(b.listeners)}Riot.components.add(b);if(b.renderTo){b.render(b.renderTo)}else{if(b.autoRender){b.render()}}},addClass:function(a){var d=this,b,c;if(Riot.isArray(a)){for(b=0,c=a.length;b<c;b=b+1){d.addClass(a[b])}return}if(d.hasClass(a)){return}if(!d.rendered){d.classes=d.classes||[];if(Riot.indexOf(d.classes,a)===-1){d.classes.push(a)}}else{if(!d.hasClass(a)){d.el.addClass(a)}}},hasClass:function(a){var b=this;if(!b.rendered){return Riot.indexOf(b.classes||[],a)!==-1}return b.el.hasClass(a)},removeClass:function(a){var d=this,b,c;if(Riot.isArray(a)){for(b=0,c=a.length;b<c;b=b+1){d.removeClass(a[b])}return}if(!d.rendered){if(!d.classes){return}for(b=0,c=d.classes.length;b<c;b=b+1){if(d.classes[b]===a){d.classes=d.classes.splice(b,1);return}}}else{d.el.removeClass(a)}},toggleClass:function(b,a){var d=this,c=b;if(Riot.isObject(c)){for(b in c){if(c.hasOwnProperty(b)){d.toggleClass(b,c[b])}}return}if(a===undefined){a=!d.hasClass(b)}if(a===true){d.addClass(b)}else{if(a===false){d.removeClass(b)}}},getId:function(){var a=this;if(!a.id){a.id=a.baseId+"-"+Riot.Component.getAutoId()}return a.id},getClasses:function(){var a=this;return a.rendered?a.el.dom.className.split(" "):a.classes},createFragment:function(){var a=this,c=document.createDocumentFragment(),b=document.createElement("div");b.innerHTML=Riot.format(a.elTpl||Riot.Component.elTpl,{id:a.getId(),classes:(a.getClasses()||[]).join(" "),baseClass:a.baseClass});a.el=Riot.get(b.childNodes[0]);c.appendChild(a.el.dom)},getHtml:function(){var a=this;if(a.html){return a.html}if(!(a.renderTpl instanceof Riot.Template)){a.renderTpl=Riot.create("Riot.Template",a.renderTpl,a.renderHelpers)}return a.renderTpl.execute(a.getRenderData())},getRenderData:function(){var a=this;if(!a.renderData){a.renderData={}}a.renderData=a.initRenderData(a.renderData);return a.renderData},initRenderData:function(b){var a=this;b=Riot.applyIf(a.renderData||{},b);return Riot.applyIf(b,{baseClass:a.baseClass,id:a.getId()})},render:function(c,b){var a=this;if(a.rendered){return}if(a.fireEvent("beforerender",a)===false){return}if(!a.el){a.createFragment()}else{a.el=Riot.get(a.el);a.el.addClass(a.classes)}var e=document.createElement("div"),d;e.innerHTML=a.getHtml();d=e.childNodes[0];while(d){a.el.dom.appendChild(d);d=e.childNodes[0]}a.initChildEls();a.initRenderSelectors();if(a.contentEl){a.contentEl=Riot.get(a.contentEl);a.contentEl.appendTo(a.getTargetEl())}a.onRender();a.fireEvent("render",a);a.move(c,b);a.rendered=true;a.afterRender();a.fireEvent("afterrender",a)},getTargetEl:function(){return this.el},move:function(c,b){var a=this;if(!c){return}c=Riot.get(c);if(b!==undefined){b=Riot.confine(b,0,c.dom.childNodes.length);if(b===c.dom.childNodes.length){a.el.appendTo(c)}else{a.el.insertBefore(c.dom.childNodes[b])}}else{a.el.appendTo(c)}},destroy:function(){var a=this;if(a.beforeDestroy()===false||a.fireEvent("beforedestroy",a)===false){return}a.onDestroy();a.fireEvent("destroy",a);a.el.remove();Riot.components.remove(a)},initChildEls:function(){var c=this,b,a;if(!c.childEls){c.childEls={}}for(b in c.childEls){if(c.childEls.hasOwnProperty(b)){a=Riot.query("#"+c.getId()+"-"+c.childEls[b],c.el.dom);if(a){c[b]=Riot.get(a[0])}}}},initRenderSelectors:function(){var e=this,c,b,a,d;if(!e.renderSelectors){e.renderSelectors={}}for(c in e.renderSelectors){if(e.renderSelectors.hasOwnProperty(c)){b=Riot.query(e.renderSelectors[c],e.el.dom);if(b){e[c]=b;for(a=0,d=e[c].length;a<d;a=a+1){e[c][a]=Riot.get(e[c][a])}}}}},initComponent:Riot.emptyFn,onRender:Riot.emptyFn,afterRender:Riot.emptyFn,onDestroy:Riot.emptyFn,beforeDestroy:Riot.emptyFn});Riot.components=Riot.create("Riot.Collection");Riot.getCmp=function(a){return Riot.components.get(a)};Riot.define("Riot.Container",{extend:"Riot.Component",defaults:{defaultType:"Riot.Component"},initComponent:function(){var a=this;a.initChildren();a.callParent(arguments)},onRender:function(){var a=this;a.callParent(arguments);a.renderChildren()},initChildren:function(){var d=this,a=d.items,b,c;d.items=Riot.create("Riot.Collection");if(a&&!Riot.isArray(a)){a=[a]}else{if(!a){a=[]}}for(b=0,c=a.length;b<c;b=b+1){d.items.add(d.initChild(a[b]))}},renderChildren:function(){var a=this,b=a.getTargetEl();a.items.each(function(c){c.render(b)})},initChild:function(c){var b=this,a;c.container=b;if(c instanceof Riot.Component){return c}if(!c.type){return Riot.create(b.defaultType,c)}else{a=c.type;if(!Riot.isString(a)){Riot.error('Unable to find object of type "'+a+'".')}return Riot.create(a,c)}},add:function(b){var a=this;a.items.add(a.initChild(b));if(a.rendered){b.render(a.getTargetEl())}},remove:function(b){var a=this;a.items.remove(b);b.destroy()},startBatchUpdate:function(){var e=this,c=e.batchParent=e.el.getParent(),b=c.dom.childNodes,a,d;for(a=0,d=b.length;a<d;a=a+1){if(b[a]===e.el.dom){e.batchSibling=Riot.get(b[a+1]);break}}e.el.detach()},endBatchUpdate:function(){var a=this;if(!a.batchSibling){a.el.appendTo(a.batchParent)}else{a.el.insertBefore(a.batchSibling)}},onDestroy:function(){var a=this;if(a.rendered){a.items.each(function(b){b.destroy()})}a.callParent(arguments)}});(function(){var a={instanceOf:function(c){if(Riot.isString(c)){c=Riot.objectQuery(c)}return this instanceof c}},b=Riot.ComponentQuery={is:function(f,g,h){var c,d,e;h=h||"and";if(!Riot.isArray(g)){g=[g]}for(d=0,e=g.length;d<e;d=d+1){if(g[d].args&&!Riot.isArray(g[d].args)){g[d].args=[g[d].args]}if(Riot.isFunction(g[d].fn)){c=g[d].fn.apply(f,g[d].args||[])}else{if(g[d].fn==="and"||g[d].fn==="or"){c=b.is(f,g[d].args,g[d].fn)}else{c=a[g[d].fn].apply(f,g[d].args||[])}}if(h==="and"){if(!c){return false}}else{if(h==="or"){if(c){return true}}}}if(h==="and"){return true}else{if(h==="or"){return false}}},find:function(d){var c=[];Riot.components.each(function(e){if(b.is(e,d)){c.push(e)}});return c}}}());Riot.define("Riot.app.Controller",{init:function(){var a=this;a.controls=[];a.initController();Riot.components.on("add",a.applyControls,a)},initController:Riot.emptyFn,control:function(c,a){var b=this;if(c.args&&!Riot.isArray(c.args)){c.args=[c.args]}b.controls.push({query:c,listeners:a})},applyControls:function(f,d){var c=this,e,a,b;for(a=0,b=c.controls.length;a<b;a=a+1){e=c.controls[a];if(Riot.ComponentQuery.is(d,e.query)){d.on(e.listeners)}}}});Riot.define("Riot.app.App",{init:function(){var c=this,a,b;if(!c.controllers){c.controllers=[]}for(a=0,b=c.controllers.length;a<b;a=a+1){c.controllers[a]=Riot.create(c.controllers[a])}},run:Riot.emptyFn});Riot.createApp=(function(){var b=100;function a(){b=b+1;return b}return function(c){var e="Riot.app.apps.APP"+a(),d;c.extend="Riot.app.App";Riot.define(e,c);d=Riot.create(e);Riot.onReady(d.run,d)}}());